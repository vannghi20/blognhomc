"use strict";!function(e){e.fn.unveil=function(e,t){function n(){var e=u.filter(function(){var e=jQuery(this),t=o.scrollTop(),n=t+o.height(),a=e.offset().top;return a+e.height()>=t-i&&a<=n+i});a=e.trigger("unveil"),u=u.not(a)}var a,o=jQuery(window),i=e||0,r=window.devicePixelRatio>1?"data-src-retina":"data-src",u=this;return this.one("unveil",function(){var e=this.getAttribute(r);(e=e||this.getAttribute("data-src"))&&(this.setAttribute("src",e),"function"==typeof t&&t.call(this))}),o.on("scroll.unveil resize.unveil lookup.unveil",n),n(),this}}(window.jQuery||window.Zepto);let intImageLoad=(e,t)=>{var n=jQuery(e);n.length&&n.unveil(1,function(){jQuery(this).on("load",function(){jQuery(this).parents(t).first().addClass("image-loaded"),jQuery(this).removeAttr("data-src"),jQuery(this).removeAttr("data-srcset"),jQuery(this).removeAttr("data-sizes")})})},initImageProduct=()=>{var e=jQuery(".product-image:not(.image-loaded) .unveil-image, .tbay-gallery-varible:not(.image-loaded) .unveil-image");e.length&&e.unveil(1,function(){jQuery(this).on("load",function(){jQuery(this).parents(".product-image, .tbay-gallery-varible").first().addClass("image-loaded"),jQuery(this).removeAttr("data-src")})})},layzyLoadImage=()=>{jQuery(window).off("scroll.unveil resize.unveil lookup.unveil");intImageLoad(".tbay-image-loaded:not(.image-loaded) .unveil-image",".tbay-image-loaded");initImageProduct()};jQuery(document).ready(function(e){setTimeout(function(){layzyLoadImage()},200),jQuery(document.body).on("greenmart_load_more",()=>{layzyLoadImage()}),jQuery(document.body).on("greenmart_tabs_carousel",()=>{layzyLoadImage()}),jQuery(document.body).on("reset_image",()=>{layzyLoadImage()}),jQuery(document.body).on("reset_data",()=>{layzyLoadImage()})});var CustomlayzyLoadImage=function(e,t){setTimeout(function(){layzyLoadImage()},200)};jQuery(window).on("elementor/frontend/init",function(){"undefined"!=typeof greenmart_settings&&greenmart_settings.skin_elementor&&jQuery.isArray(greenmart_settings.elements_ready.layzyloadimage)&&$.each(greenmart_settings.elements_ready.layzyloadimage,function(e,t){elementorFrontend.hooks.addAction("frontend/element_ready/tbay-"+t+".default",CustomlayzyLoadImage)})});
